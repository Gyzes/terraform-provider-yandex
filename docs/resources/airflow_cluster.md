---
subcategory: "Managed Service for Apache Airflow"
page_title: "Yandex: yandex_airflow_cluster"
description: |-
  Manages an Apache Airflow cluster within Yandex Cloud.
---

# yandex_airflow_cluster (Resource)



## Example usage

```terraform
//
// Create a new Airflow Cluster.
//
resource "yandex_airflow_cluster" "my_airflow_cluster" {
  name               = "airflow-created-with-terraform"
  subnet_ids         = [yandex_vpc_subnet.a.id, yandex_vpc_subnet.b.id, yandex_vpc_subnet.d.id]
  service_account_id = yandex_iam_service_account.for-airflow.id
  admin_password     = "some-strong-password"

  code_sync = {
    s3 = {
      bucket = "bucket-for-airflow-dags"
    }
  }

  webserver = {
    count              = 1
    resource_preset_id = "c1-m4"
  }

  scheduler = {
    count              = 1
    resource_preset_id = "c1-m4"
  }

  worker = {
    min_count          = 1
    max_count          = 2
    resource_preset_id = "c1-m4"
  }

  airflow_config = {
    "api" = {
      "auth_backends" = "airflow.api.auth.backend.basic_auth,airflow.api.auth.backend.session"
    }
  }

  pip_packages = ["dbt"]

  lockbox_secrets_backend = {
    enabled = true
  }

  logging = {
    enabled   = true
    folder_id = var.folder_id
    min_level = "INFO"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `code_sync` (Attributes) (see [below for nested schema](#nestedatt--code_sync))
- `name` (String)
- `scheduler` (Attributes) (see [below for nested schema](#nestedatt--scheduler))
- `service_account_id` (String)
- `subnet_ids` (Set of String)
- `webserver` (Attributes) (see [below for nested schema](#nestedatt--webserver))
- `worker` (Attributes) (see [below for nested schema](#nestedatt--worker))

### Optional

- `admin_password` (String, Sensitive)
- `airflow_config` (Map of Map of String)
- `deb_packages` (Set of String)
- `deletion_protection` (Boolean)
- `description` (String)
- `folder_id` (String)
- `labels` (Map of String)
- `lockbox_secrets_backend` (Attributes) (see [below for nested schema](#nestedatt--lockbox_secrets_backend))
- `logging` (Attributes) (see [below for nested schema](#nestedatt--logging))
- `pip_packages` (Set of String)
- `security_group_ids` (Set of String)
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `triggerer` (Attributes) (see [below for nested schema](#nestedatt--triggerer))

### Read-Only

- `created_at` (String)
- `health` (String)
- `id` (String) The ID of this resource.
- `status` (String)

<a id="nestedatt--code_sync"></a>
### Nested Schema for `code_sync`

Required:

- `s3` (Attributes) (see [below for nested schema](#nestedatt--code_sync--s3))

<a id="nestedatt--code_sync--s3"></a>
### Nested Schema for `code_sync.s3`

Required:

- `bucket` (String)



<a id="nestedatt--scheduler"></a>
### Nested Schema for `scheduler`

Required:

- `count` (Number)
- `resource_preset_id` (String)


<a id="nestedatt--webserver"></a>
### Nested Schema for `webserver`

Required:

- `count` (Number)
- `resource_preset_id` (String)


<a id="nestedatt--worker"></a>
### Nested Schema for `worker`

Required:

- `max_count` (Number)
- `min_count` (Number)
- `resource_preset_id` (String)


<a id="nestedatt--lockbox_secrets_backend"></a>
### Nested Schema for `lockbox_secrets_backend`

Required:

- `enabled` (Boolean)


<a id="nestedatt--logging"></a>
### Nested Schema for `logging`

Required:

- `enabled` (Boolean)

Optional:

- `folder_id` (String)
- `log_group_id` (String)
- `min_level` (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--triggerer"></a>
### Nested Schema for `triggerer`

Required:

- `count` (Number)
- `resource_preset_id` (String)

## Import

The resource can be imported by using their `resource ID`. For getting the resource ID you can use Yandex Cloud [Web Console](https://console.yandex.cloud) or [YC CLI](https://yandex.cloud/docs/cli/quickstart).

```bash
# terraform import yandex_airflow_cluster.<resource Name> <resource Id>
terraform import yandex_airflow_cluster.my_airflow_cluster enphq**********cjsw4
```
